[{"comments":[{"id":"IC_kwDOPZi2kc7qib7S","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"This happens because the **KaraFan** vocal separation library (used by the **Vocal Removal** node you are running) had a hardcoded path specifically looking for `ffmpeg.exe` inside the ComfyUI portable directory, bypassing any custom system PATH or environmental variables you set.\n\nI have pushed a fix for this in version `4.21.7`. The Vocal Remover will now properly use the suite's centralized FFmpeg detection, which respects your system PATH.\n\nUpdate your TTS-Audio-Suite nodes and it should start working!","createdAt":"2026-02-20T13:55:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/263#issuecomment-3934895826","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7qoe2R","author":{"login":"bolekcg"},"authorAssociation":"NONE","body":"@diodiogod Thanks.\nI Will check that soon. \nI suppose i will redo git clone ( i'm not using manager ... that's making mess in python packages ... out of control )\n\nI've got another question ... but that's for other thread \nBest!","createdAt":"2026-02-20T18:36:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/263#issuecomment-3936480657","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7qo0qM","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"> [@diodiogod](https://github.com/diodiogod) Thanks. I Will check that soon. I suppose i will redo git clone ( i'm not using manager ... that's making mess in python packages ... out of control )\n> \n> I've got another question ... but that's for other thread Best!\n\nI don't really know if what I fixed is exactly what you encountered because you said you were using the \"analyzer\". That could mean a bunch of things. But searching the code, this was a fix that matched your description. \n\nTo update just do a git pull. And it's good to run install.py (inside your environment) again (not this time, but when new functionalities or engines are added)","createdAt":"2026-02-20T18:59:32Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/263#issuecomment-3936569996","viewerDidAuthor":true}],"number":263,"title":"ffmpeg is not recognized","updatedAt":"2026-02-20T19:04:57Z"},{"comments":[{"id":"IC_kwDOPZi2kc7kV2ne","author":{"login":"suicycle"},"authorAssociation":"NONE","body":"I've just tried reinstalling it all using install.py. I'm still getting the same error above.","createdAt":"2026-02-01T11:46:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/241#issuecomment-3830933982","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7kWiK3","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Tentative Fix - Testing Needed\n\n**Root Cause:**\nThe error \"Unrecognized configuration class\" is caused by two issues:\n1. The downloaded config.json is missing the `AutoModelForCausalLM` entry in `auto_map` (same as issue #226)\n2. Transformers cached the broken config and keeps using the stale cache even after updates\n\n**Fixes Applied (commits 57e7329 + 37f36ac):**\n1. ‚úÖ Automatic config.json patching (adds missing AutoModelForCausalLM mapping)\n2. ‚úÖ Transformers module cache clearing (forces fresh import of fixed config)\n\n---\n\n## üß™ Testing Instructions\n\n**Step 1: Update via git pull**\n```bash\ncd ComfyUI/custom_nodes/tts_audio_suite\ngit pull\n```\n\n**Step 2: Clear transformers cache manually** (one-time, just to be safe)\n```bash\n# Linux/Mac:\nrm -rf ~/.cache/huggingface/modules/transformers_modules/*Step*\n\n# Windows:\n# Delete: C:\\Users\\YourUsername\\.cache\\huggingface\\modules\\transformers_modules\\\n# (any folders with \"Step\" in the name)\n```\n\n**Step 3: Restart ComfyUI and test**\n\nThe code will now automatically:\n- Patch your config.json on first use\n- Clear stale cache before loading\n- Load the model correctly with the fixed config\n\n---\n\n@suicycle - Please test this and report back if it resolves the issue. This is a tentative fix, so your feedback is important!","createdAt":"2026-02-01T14:14:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/241#issuecomment-3831112375","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7kW1V5","author":{"login":"suicycle"},"authorAssociation":"NONE","body":"Still not working. Getting the same error.\nI should mention that, when it comes to Python, I have no idea what I'm doing. I'm a newbie.\n\nUpdate via git pull - done. this is the output : \n\n-----------------------\nK:\\COMFY\\ComfyUI\\custom_nodes\\TTS-Audio-Suite>git pull\nremote: Enumerating objects: 700, done.\nremote: Counting objects: 100% (268/268), done.\nremote: Compressing objects: 100% (46/46), done.\nremote: Total 700 (delta 237), reused 225 (delta 222), pack-reused 432 (from 3)\nReceiving objects: 100% (700/700), 738.28 KiB | 269.00 KiB/s, done.\nResolving deltas: 100% (415/415), completed with 78 local objects.\nFrom https://github.com/comfyanonymous/ComfyUI\n   b16390c2..96020c2c  assets-redo-part2       -> origin/assets-redo-part2\n * [new branch]        assets-redo-pruneposal  -> origin/assets-redo-pruneposal\n + a6ed8eb2...535ef706 austin/node-convert-to-list -> origin/austin/node-convert-to-list  (forced update)\n   803808b1..f3873798  austin/trim-video       -> origin/austin/trim-video\n * [new branch]        cbyrne/fix-outputs-count-non-dict -> origin/cbyrne/fix-outputs-count-non-dict\n * [new branch]        cbyrne/text-preview-support -> origin/cbyrne/text-preview-support\n * [new branch]        feat/api-nodes/11labs-music -> origin/feat/api-nodes/11labs-music\n * [new branch]        feat/api-nodes/enable-magnific-upscalers -> origin/feat/api-nodes/enable-magnific-upscalers\n * [new branch]        feat/api-nodes/hitpaw   -> origin/feat/api-nodes/hitpaw\n   dcf68685..0141af07  feat/cache-provider-api -> origin/feat/cache-provider-api\n + 68d5b81c...a18989ba feat/comfy_api/File3D-type -> origin/feat/comfy_api/File3D-type  (forced update)\n * [new branch]        jk/control-after-generate -> origin/jk/control-after-generate\n   3c0365f6..7484c9c2  jk/node-replace-api     -> origin/jk/node-replace-api\n   f23c478b..6d49f56e  jk/remove-unused-code   -> origin/jk/remove-unused-code\n * [new branch]        jk/requirements-files   -> origin/jk/requirements-files\n   09725967..667a1b88  master                  -> origin/master\n * [new branch]        partition-advanced-widgets -> origin/partition-advanced-widgets\n + 46a83e96...aaea976f pysssss/basic-glsl-shader-node -> origin/pysssss/basic-glsl-shader-node  (forced update)\n * [new branch]        pysssss/basic-glsl-shader-node-glfw -> origin/pysssss/basic-glsl-shader-node-glfw\n * [new branch]        pysssss/color-to-int-node -> origin/pysssss/color-to-int-node\n * [new branch]        pysssss/glsl-blueprints -> origin/pysssss/glsl-blueprints\n * [new branch]        remove-cache-busting    -> origin/remove-cache-busting\n * [new branch]        rename-mahiro           -> origin/rename-mahiro\n * [new branch]        toolkit-nodes/aspect-ratio-blueprint -> origin/toolkit-nodes/aspect-ratio-blueprint\n * [new tag]           v0.11.1                 -> v0.11.1\nThere is no tracking information for the current branch.\nPlease specify which branch you want to merge with.\nSee git-pull(1) for details.\n\n    git pull <remote> <branch>\n\nIf you wish to set tracking information for this branch you can do so with:\n\n    git branch --set-upstream-to=origin/<branch> master\n\n-------------\n\nDelete: C:\\Users\\YourUsername\\.cache\\huggingface\\modules\\transformers_modules\\ - done\n\n--------------\n\nRestart ComfyUI and test - done. still same error.\n\nby the way, there are only \"__init__.py\" (empty file) and \"configuration_step1.py files in the \n\\.cache\\huggingface\\modules\\transformers_modules\\Step_hyphen_Audio_hyphen_EditX\n\nbelow is configuration_step1.py file :\n\n---------\nfrom typing import Optional, List, Any, Dict\nfrom transformers.configuration_utils import PretrainedConfig\n\n\n\nclass Step1Config(PretrainedConfig):\n    model_type = \"step1\"\n    keys_to_ignore_at_inference = [\"past_key_values\"]\n    \n    def __init__(\n        self,\n        hidden_size: int = 5120,\n        intermediate_size: int = 13312,\n        num_attention_heads: int = 40,\n        num_attention_groups: int = 8,\n        num_hidden_layers: int = 48,\n        max_seq_len: int = 4096,\n        vocab_size: int = 65536,\n        rms_norm_eps: float = 1e-5,\n        bos_token_id: int = 1,\n        eos_token_id: int = 3,\n        pad_token_id: int = 0,\n        **kwargs,\n    ) -> None:\n        self.hidden_size = hidden_size\n        self.intermediate_size = intermediate_size\n        self.num_attention_heads = num_attention_heads\n        self.num_attention_groups = num_attention_groups\n        self.num_hidden_layers = num_hidden_layers\n        self.max_seq_len = max_seq_len\n        self.vocab_size = vocab_size\n        self.rms_norm_eps = rms_norm_eps\n        super().__init__(\n            bos_token_id=bos_token_id,\n            pad_token_id=pad_token_id,\n            eos_token_id=eos_token_id,\n            **kwargs\n        )\n\n\n__all__ = [\"Step1Config\"]","createdAt":"2026-02-01T15:18:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/241#issuecomment-3831190905","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7pWSGG","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Root Cause Found + Updated Fix Available\n\nLooking at your `git pull` output, I can see the issue:\n\n```\nFrom https://github.com/comfyanonymous/ComfyUI\n```\n\n**Your git remote is pointing to the ComfyUI repository**, not TTS-Audio-Suite. That's why you got all those unrelated branches. You didn't actually pull the fixes.\n\n---\n\n## Step-by-step Fix\n\n**Step 1 - Fix the git remote:**\n```bash\ncd ComfyUI/custom_nodes/TTS-Audio-Suite\ngit remote set-url origin https://github.com/diodiogod/TTS-Audio-Suite.git\ngit pull origin main\n```\n\n**Step 2 - Clear the transformers cache:**\n\nDelete this folder (or just its contents):\n`C:\\Users\\YourUsername\\.cache\\huggingface\\modules\\transformers_modules\\Step_hyphen_Audio_hyphen_EditX`\n\n**Step 3 - Restart ComfyUI and test**\n\n---\n\n## What Changed\n\nSince your last report, we found and fixed the actual root cause (v4.20.15): a Python 3.12 incompatibility in a bundled audio model component was silently failing, preventing proper initialization of the engine. The previous fix (config.json patching) was addressing a symptom, not the root cause.\n\nOnce you pull from the correct repository, the fix should be in place. Please report back!","createdAt":"2026-02-17T14:14:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/241#issuecomment-3914932614","viewerDidAuthor":true}],"number":241,"title":"TTS Text generation failed: Failed to load Step Audio EditX model: Unrecognized configuration class","updatedAt":"2026-02-17T14:15:24Z"},{"comments":[{"id":"IC_kwDOPZi2kc7ejgnv","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Issue Analysis & Resolution\n\nThanks for the detailed report! I've analyzed your AI-generated fixes and implemented the **valid issues** properly in v4.16.10, while explaining why the memory management changes are unnecessary.\n\n---\n\n## ‚úÖ Valid Issues - **FIXED in v4.16.10**\n\n### 1. dtype Parameter Error (Phase 1)\n**Your diagnosis:** Correct - `Step1ForCausalLM.__init__()` doesn't accept `dtype` parameter  \n**Our fix:** Changed `load_kwargs[\"dtype\"]` ‚Üí `load_kwargs[\"torch_dtype\"]` in `model_loader.py` (3 locations)  \n**Architecture layer:** Engine implementation (correct layer for this fix)\n\n### 2. bf16 GPU Compatibility (Phase 6)\n**Your diagnosis:** Correct - bf16 requires SM 8.0+ (Ampere GPUs)  \n**Our fix:** \n- Added GPU compute capability detection in `step_audio_editx.py`\n- Changed default from `\"bfloat16\"` ‚Üí `\"auto\"` with smart detection:\n  - RTX 30xx/40xx, A100 (SM ‚â• 8.0) ‚Üí automatically use bf16\n  - RTX 20xx, V100, older GPUs ‚Üí automatically use fp16\n- Centralized fix in one location instead of scattered across 5 files\n\n---\n\n## ‚ùå Invalid/Unnecessary Fixes\n\n### Memory Management Issues (Phase 2, 3, 4, 5)\n**Your approach:** Added manual `gc.collect()`, `torch.cuda.empty_cache()`, `__del__` methods in node/processor layers\n\n**Why this is wrong:**\n\n1. **We already have ComfyUI model management integration** (see `PROJECT_INDEX.md` line 9)\n   - `utils/models/comfyui_model_wrapper/` - Full ComfyUI integration\n   - Works with \"Clear VRAM\" button automatically\n   - Auto-unloads when loading other models\n   - Proper memory tracking via `loaded_size()` and `model_size()`\n\n2. **Violates modular architecture:**\n   - Memory management belongs in `utils/models/`, NOT in node/processor layers\n   - Nodes delegate to processors ‚Üí processors delegate to engines ‚Üí engines use unified_model_interface\n   - Adding `__del__` methods in nodes breaks this clean separation\n\n3. **The fixes target the wrong layer:**\n   - Phase 2/3/4: Modified `step_audio_editx_audio_editor_node.py` (processor layer)\n   - Should use existing `unified_model_interface` caching system\n   - Manual CUDA cleanup bypasses ComfyUI's memory manager\n\n4. **Already handled by existing code:**\n   - `utils/models/smart_loader.py` - Prevents duplicate model loading\n   - `utils/models/unified_model_interface.py` - Centralized caching with proper cleanup\n   - `ComfyUIModelWrapper` - Integrates with ComfyUI's native model management\n\n---\n\n## How Memory Management Actually Works\n\nThe architecture already handles GPU memory properly:\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ ComfyUI Model Management (Native)          ‚îÇ\n‚îÇ - \"Clear VRAM\" button                       ‚îÇ\n‚îÇ - Auto-unload on memory pressure            ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n               ‚îÇ\n               ‚Üì\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ ComfyUIModelWrapper (utils/models/)         ‚îÇ\n‚îÇ - loaded_size() tracking                    ‚îÇ\n‚îÇ - Automatic GPU/CPU offloading              ‚îÇ\n‚îÇ - Cleanup on model replacement              ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n               ‚îÇ\n               ‚Üì\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ unified_model_interface                     ‚îÇ\n‚îÇ - Smart caching (prevents duplicates)       ‚îÇ\n‚îÇ - Engine-specific handlers                  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n               ‚îÇ\n               ‚Üì\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Step Audio EditX Engine                     ‚îÇ\n‚îÇ - Model loading/inference                   ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n**To free GPU memory:**\n1. Use ComfyUI's \"Clear VRAM\" button (works automatically)\n2. Load a different model (auto-unloads previous)\n3. Let ComfyUI's memory manager handle it\n\n---\n\n## Summary\n\n- **Fixed:** dtype parameter error + GPU capability detection\n- **Not needed:** Manual memory cleanup (architecture already handles it)\n- **Version:** v4.16.10 released with proper fixes\n\nYour bug report identified real issues, but the AI-generated solutions didn't understand the existing architecture. The fixes are now implemented correctly in the right layers.","createdAt":"2026-01-11T02:37:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/224#issuecomment-3733850607","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7enPIz","author":{"login":"yulezz"},"authorAssociation":"NONE","body":"Thank you very much for your effort in integrating so many TTS models together - it's truly remarkable and challenging. I also want to contribute to this project, but I have no coding knowledge at all. Moreover, I feel that AI-generated fixes are often quite superficial and don't consider the global picture when solving problems. This leads to fixing one issue while creating new ones.\n\nI previously tried to fork the project and submit a PR after making fixes, but after submitting, I tested other nodes again and they started throwing errors, so I had to urgently withdraw the PR. In the end, I had the AI generate this modification description.\n\nAdditionally, I tested the new version 4.16.10 - the errors are basically fixed. However, the StepAudioEditXAudioEditorNode is running at only 5 tokens per second, making it completely unusable. I tried to fix this with AI assistance, but as I mentioned, its modifications kept creating new problems. After several hours of attempts, I gave up on fixing it. Still, I came to the following conclusions:\n\nPyTorch's code for detecting compute capability might return true for BF16 support even when full BF16 computation isn't actually supported.\n\nWhen I tried to force all models to use FP16 precision, I encountered issues with the torchaudio.compliance.kaldi.fbank function, which only supports float32 and not float16 (Half) dtype. My attempts to modify this kept creating new problems.\n\nUltimately, I concluded that StepAudioEditXAudioEditorNode likely has models using different precisions during the inference stage, causing slow inference speeds - a problem I couldn't solve.\n\nBelow are some logs from my attempted modifications. Since I couldn't resolve the issue, I decided to abandon using the StepAudioEditXAudioEditorNode node.\n# Step Audio EditX Performance Optimization and Bug Fix Summary\n\n## Problem Description\n\n### Performance Discrepancy\n- **StepAudioEditXAudioEditorNode**: Running speed ~5-6 tokens/s\n- **StepAudioEditXEngineNode**: Running speed ~16 tokens/s\n- **Goal**: Unify performance between both nodes and eliminate performance differences\n\nKey Information Analysis\nGPU Information:\n\nGPU Model: NVIDIA GeForce RTX 2080 Ti\n\nCompute Capability: 7.5\n\nBF16 Support: Supports BF16: True\n\nPrecision Settings:\n\nInitial Setting: precision=auto\n\nParsing Process: auto ‚Üí torch_dtype_val=auto\n\nFinal Precision: torch_dtype_str=auto ‚Üí torch_dtype=torch.bfloat16\n\nRTX 2080 Ti BF16 Support Issue Analysis\n1. Why does RTX 2080 Ti show BF16 support?\nHardware Background:\n\nRTX 2080 Ti uses Turing architecture (Compute Capability 7.5)\n\nFull native BF16 support starts from Ampere architecture (Compute Capability 8.0+, e.g., RTX 30xx series)\n\nTuring architecture only has limited BF16 support:\n\nSupports BF16 storage, but not full BF16 computational instructions\n\nUses FP32 ALU for BF16 operations, requiring additional conversion overhead\n\nPyTorch Detection Logic:\n\ntorch.cuda.is_bf16_supported() returns True on Turing architecture\n\nThis is because PyTorch detects whether the hardware can store BF16 data, not whether it can compute BF16 efficiently\n\n2. Why is BF16 slower than FP16?\nPerformance Difference Reasons:\n\nDifferent Computational Paths:\n\nFP16: Turing architecture has native FP16 ALU, direct hardware acceleration\n\nBF16: Needs simulation through FP32 ALU, adding conversion overhead\n\nConversion Overhead:\n\ntext\nBF16 Input ‚Üí FP32 Conversion ‚Üí FP32 Calculation ‚Üí BF16 Conversion ‚Üí BF16 Output\nEach operation adds two precision conversions\n\nConversion operations consume additional computational resources\n\nMemory Bandwidth:\n\nBoth BF16 and FP16 are 2-byte data, same memory bandwidth\n\nBut additional conversion operations offset the memory bandwidth advantage\n\n3. Solutions\nImmediate Solution:\n\nForce FP16 precision in Step Audio EditX nodes:\n\nIf there's a precision parameter, set it to fp16\n\nOr modify default settings in the code\n\nCode Modification Solution:\n\npython\n# Modify default precision in step_audio_editx_audio_editor_node.py\ndefault_precision = \"fp16\"  # Change to fp16 instead of auto\nprecision_setting = inline_tag_precision if inline_tag_precision else default_precision\n\n## System Environment\n\n### Hardware Configuration\n- GPU: NVIDIA GeForce RTX 2080 Ti\n- Compute Capability: 7.5\n\n### Software Environment\n- PyTorch: Older version (does not support xFormers SDPA detection) (My PyTorch is 2.6+cuda126)\n- Transformers: 4.51\n- xFormers: 0.0.29.post3 (installed but cannot be used)\n\n## All Errors Encountered\n\n### 1. NameError: name 'Any' is not defined\n**File**: `tts.py`\n**Cause**: Missing type annotation import\n**Fix**: Added `from typing import Any`\n\n### 2. AttributeError: module 'torch.backends.cuda' has no attribute 'xformers_sdp_enabled'\n**File**: `model_loader.py`, `tts.py`\n**Cause**: Older PyTorch version does not support certain SDPA attributes\n**Fix**: Wrapped SDPA backend checks with try/except\n\n### 3. SDPA Function Name Error\n**File**: `model_loader.py`, `tts.py`\n**Cause**: Used incorrect function names (e.g., `flash_sdp_enabled()` instead of `enable_flash_sdp()`)\n**Fix**: Corrected function names\n```python\n# Wrong\ntorch.backends.cuda.flash_sdp_enabled()\n# Correct\ntorch.backends.cuda.enable_flash_sdp(False)\n```\n\n### 4. Token Type Mismatch\n**Error Message**: `Expected tensor for argument #1 'indices' to have one of the following scalar types: Long, Int; but got torch.cuda.HalfTensor instead`\n\n**File**: `cosyvoice.py`\n**Cause**: Token and prompt_token were converted to float16, but embedding layers require integer types\n**Fix**: Keep token and prompt_token as integer types, only convert feature tensors to model precision\n\n### 5. dtype Hardcoding Issue\n**File**: `generator.py`\n**Cause**: `_f02uv` method hardcoded `torch.float32`, causing mismatch with FP16 model\n**Fix**: Use `f0.dtype` instead of hardcoded type\n\n### 6. RuntimeError: Unsupported dtype Half\n**Error Message**: `RuntimeError: Unsupported dtype Half`\n**File**: `tts.py`, `frontend.py`\n**Cause**: `torchaudio.compliance.kaldi.fbank` only supports float32\n**Fix**: Keep audio as float32 for feature extraction, only convert features to model precision\n\n### 7. resample_audio Does Not Support float16\n**Error Message**: `expected scalar type Half but found Float`\n**File**: `tokenizer.py`\n**Cause**: `torchaudio.transforms.Resample` only supports float32\n**Fix**: Convert to float32 before resampling, restore original precision after completion\n\n### 8. torchaudio.save Does Not Support float16\n**Error Message**: `ValueError: Unsupported dtype for wav: torch.float16`\n**File**: `tokenizer.py`\n**Cause**: `torchaudio.save` only supports float32 format for WAV files\n**Fix**: Temporarily convert to float32 before saving\n\n## List of Modified Files\n\n### 1. tts.py\n**Changes**:\n- Added GPU compute capability detection\n- Configured SDPA backends (for SM 7.5 GPU)\n- Modified audio preprocessing pipeline to keep float32 for feature extraction\n- Added detailed debug logging\n\n**Key Code**:\n```python\ndef preprocess_prompt_wav(self, prompt_wav_path : str):\n    prompt_wav, prompt_wav_sr = torchaudio.load(prompt_wav_path)\n    \n    # Keep audio as float32 for preprocessing\n    model_dtype = self.llm.dtype if hasattr(self.llm, 'dtype') else next(self.llm.parameters()).dtype\n    \n    # Audio preprocessing (keep as float32)\n    if prompt_wav.shape[0] > 1:\n        prompt_wav = prompt_wav.mean(dim=0, keepdim=True)\n    \n    norm = torch.max(torch.abs(prompt_wav), dim=1, keepdim=True)[0]\n    if norm > 0.6:\n        prompt_wav = prompt_wav / norm * 0.6\n    \n    # Feature extraction (using float32)\n    speech_feat, speech_feat_len = self.cosy_model.frontend.extract_speech_feat(\n        prompt_wav, prompt_wav_sr\n    )\n    \n    # Convert features to model precision\n    speech_feat = speech_feat.to(model_dtype)\n    \n    speech_embedding = self.cosy_model.frontend.extract_spk_embedding(\n        prompt_wav, prompt_wav_sr\n    )\n    speech_embedding = speech_embedding.to(model_dtype)\n    \n    # Convert audio to model precision for tokenization\n    prompt_wav_model_dtype = prompt_wav.to(model_dtype)\n    vq0206_codes, vq02_codes_ori, vq06_codes_ori = self.audio_tokenizer.wav2token(prompt_wav_model_dtype, prompt_wav_sr)\n```\n\n### 2. tokenizer.py\n**Changes**:\n- Added dtype conversion for audio resampling\n- Added dtype conversion for audio saving\n\n**Key Code**:\n```python\ndef preprocess_wav(self, audio, sample_rate, enable_trim=True, energy_norm=True):\n    # Save original dtype\n    original_dtype = audio.dtype\n    audio_float32 = audio.to(torch.float32) if original_dtype != torch.float32 else audio\n    \n    audio = resample_audio(audio_float32, sample_rate, 16000)\n    \n    if energy_norm:\n        audio = energy_norm_fn(audio)\n    \n    if enable_trim:\n        audio = audio.cpu().numpy().squeeze(0)\n        audio = trim_silence(audio, 16000)\n        audio = torch.from_numpy(audio)\n        audio = audio.unsqueeze(0)\n    \n    # Restore original dtype\n    if original_dtype != torch.float32:\n        audio = audio.to(original_dtype)\n    \n    return audio\n\ndef get_vq02_code(self, audio, session_id=None, is_final=True):\n    # Convert to float32 for saving\n    audio_float32 = audio.to(torch.float32) if audio.dtype != torch.float32 else audio\n    torchaudio.save(tmp_path, audio_float32, 16000, format=\"wav\")\n```\n\n### 3. model_loader.py\n**Changes**:\n- Added GPU compute capability detection\n- Configured SDPA backend priority\n- Added detailed debug logging\n\n**Key Code**:\n```python\n# Configure SDPA backends\ntry:\n    major, minor = torch.cuda.get_device_capability()\n    compute_capability = major + minor * 0.1\n    \n    if compute_capability < 8.0:\n        # For older GPUs (like 2080 Ti, SM 7.5), disable flash_attention\n        try:\n            torch.backends.cuda.enable_flash_sdp(False)\n            torch.backends.cuda.enable_mem_efficient_sdp(True)\n            try:\n                torch.backends.cuda.enable_xformers_sdp(True)\n            except AttributeError:\n                pass\n        except AttributeError:\n            pass\nexcept Exception as e:\n    print(f\"Warning: Failed to configure SDPA backends: {e}\")\n```\n\n### 4. cosyvoice.py\n**Changes**:\n- Fixed token type conversion issues\n- Added detailed dtype debug logging\n- Ensured HiFTGenerator components use correct dtype\n\n**Key Code**:\n```python\ndef token2wav_nonstream(self, token, prompt_token, prompt_feat, embedding):\n    # Keep token and prompt_token as integer types\n    token, prompt_token, prompt_feat, embedding = map(\n        lambda ts: ts.to(self.device),\n        (token, prompt_token, prompt_feat, embedding),\n    )\n    \n    # Only convert feature tensors to model precision\n    prompt_feat = prompt_feat.to(self.dtype)\n    embedding = embedding.to(self.dtype)\n```\n\n### 5. generator.py\n**Changes**:\n- Fixed dtype hardcoding issue in `_f02uv` method\n\n**Key Code**:\n```python\ndef _f02uv(self, f0):\n    # Use f0.dtype instead of hardcoded torch.float32\n    uv = torch.FloatTensor(f0.shape[0], f0.shape[1]).to(f0.device)\n    uv = uv.type(type(f0.dtype))\n```\n\n## Performance Optimization Strategies\n\n### 1. Precision Management Strategy\nAdopt \"compromise approach\" for dtype conversion:\n```\n[FP16 Input] -> [Convert to FP32] -> [Perform Fbank High-Precision Computation] -> [Convert Back to FP16]\n```\n\n**Advantages**:\n- Compatibility: Solves function not supporting FP16 issues\n- Performance: Temporary conversion adds almost no overhead\n- Quality: Complex computations done in FP32, ensuring audio quality\n\n### 2. Attention Mechanism Optimization\n- **Transformers < 4.54**: Use eager attention\n- **Transformers >= 4.54**: Use SDPA (if available)\n- **Older GPU (SM < 8.0)**: Disable flash_attention, use memory_efficient_attention\n\n### 3. GPU Compute Capability Adaptation\n```python\nif compute_capability < 8.0:\n    # Force use of FP16 (does not support BF16)\n    torch_dtype = torch.float16\n    torch.backends.cuda.enable_flash_sdp(False)\n    torch.backends.cuda.enable_mem_efficient_sdp(True)\nelse:\n    # Supports BF16\n    torch_dtype = torch.bfloat16\n```\n\n## Current Status\n\n### Resolved Issues\n‚úÖ Type annotation import error\n‚úÖ SDPA attribute compatibility issues\n‚úÖ SDPA function name errors\n‚úÖ Token type mismatch\n‚úÖ dtype hardcoding issues\n‚úÖ kaldi.fbank dtype not supported\n‚úÖ resample_audio dtype not supported\n‚úÖ torchaudio.save dtype not supported\n\n### Pending Issues\n‚ùå **Performance discrepancy still exists**: StepAudioEditXAudioEditorNode is still slower than StepAudioEditXEngineNode\n‚ùå **xFormers cannot be used**: Limited by older PyTorch version, cannot use xFormers acceleration\n‚ùå **Transformers version limitation**: Current version 4.51 limits SDPA usage\n\n## Suggested Future Optimization Directions\n\n### 1. Upgrade Dependencies\n```bash\npip install --upgrade transformers>=4.54\npip install --upgrade torch>=2.0\n```\n\n### 2. Performance Analysis\nFurther analysis needed for performance differences between the two nodes:\n- Check if different attention mechanisms are being used\n- Analyze differences in inference pipeline\n- Check for unnecessary dtype conversions\n\n### 3. Code Optimization\n- Unify implementation of both nodes\n- Reduce unnecessary tensor copying\n- Optimize memory usage\n\n## Debug Log Examples\n\n### Successful Log Output\n```\nüí° DEBUG: Loaded audio dtype: torch.float32, shape: torch.Size([1, 246461]), sr: 24000\nüí° DEBUG: Model dtype: torch.float16\nüí° DEBUG: After normalization - audio dtype: torch.float32\nüí° DEBUG: speech_feat dtype: torch.float32, shape: torch.Size([1, 513, 80])\nüí° DEBUG: Converted speech_feat to model dtype: torch.float16\nüí° DEBUG: speech_embedding dtype: torch.float32, shape: torch.Size([1, 192])\nüí° DEBUG: Converted speech_embedding to model dtype: torch.float16\n```\n\n### SDPA Configuration Log\n```\nüí° DEBUG: SDPA settings:\n   Configuring SDPA backends for compute capability < 8.0\n   flash_sdp_enabled: False\n   mem_efficient_sdp_enabled: True\n   xformers_sdp_enabled: N/A (old PyTorch)\n   eager_sdp_enabled: N/A (old PyTorch)\n   allow_tf32: False\n```\n\n## Summary\n\nThis fix primarily addressed dtype compatibility issues. By adopting the \"compromise approach\" (FP16 -> FP32 -> FP16), we successfully resolved multiple functions not supporting FP16. However, the root cause of the performance discrepancy has not yet been found and requires further analysis of the implementation differences between the two nodes.\n\n**Key Findings**:\n1. Audio preprocessing and feature extraction need to be done in FP32\n2. Model inference can be done in FP16 to improve performance\n3. Older versions of PyTorch and Transformers limit the use of advanced optimization features\n4. GPU compute capability (SM 7.5) limits certain optimizations (such as flash_attention)\n\n**Recommendations**:\n1. Upgrade PyTorch and Transformers to latest versions\n2. Deeply analyze the performance differences between the two nodes\n3. Consider using performance analysis tools (like PyTorch Profiler) to locate bottlenecks\n4. Unify the implementation of both nodes to ensure the same optimization strategies are used\n\n---\n\n**Document Generated**: 2026-01-11\n**GPU**: NVIDIA GeForce RTX 2080 Ti (SM 7.5)\n**Status**: Partially fixed, performance issues pending resolution","createdAt":"2026-01-11T15:35:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/224#issuecomment-3734827571","viewerDidAuthor":false}],"number":224,"title":"[Bug]StepAudioEditXAudioEditorNode bug","updatedAt":"2026-01-11T15:35:01Z"},{"comments":[{"id":"IC_kwDOPZi2kc7c4YDA","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Tentative Fix Available - Please Test\n\nI've implemented a fix for the PyYAML compatibility error you're experiencing. The issue was that newer PyYAML versions (6.0+) removed the `max_depth` attribute from YAML loaders, which the bundled `hyperpyyaml` library expects.\n\n**What was changed:**\n- Added monkey-patch to restore `max_depth` attribute to YAML loaders before hyperpyyaml is imported\n- Ensures compatibility with PyYAML 6.0+ versions\n- Should resolve the `'Loader' object has no attribute 'max_depth'` error\n\n**Please test:**\n1. Update to version 4.16.4\n2. Try loading CosyVoice3 model again\n3. Let me know if the initialization error is resolved\n\n**File modified:**\n- `engines/cosyvoice/impl/cosyvoice/cli/cosyvoice.py` (lines 19-28)\n\nThis is a tentative fix - your testing will help confirm if it resolves the issue completely.","createdAt":"2026-01-02T16:50:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/220#issuecomment-3705766080","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7c5jEW","author":{"login":"Vollond"},"authorAssociation":"NONE","body":"Traceback (most recent call last):\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/nodes/unified/tts_text_node.py\", line 1062, in generate_speech\n    result = engine_instance.generate_tts_audio(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/nodes/unified/tts_text_node.py\", line 507, in generate_tts_audio\n    audio, generation_info = processor.process_text(\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/processors/cosyvoice_processor.py\", line 359, in process_text\n    segment_audio = self._generate_audio_segment(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/processors/cosyvoice_processor.py\", line 403, in _generate_audio_segment\n    return self.adapter.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/adapters/cosyvoice_adapter.py\", line 214, in generate\n    audio = self.engine.generate(\n            ^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/cosyvoice/cosyvoice.py\", line 513, in generate\n    return self.generate_zero_shot(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/cosyvoice/cosyvoice.py\", line 236, in generate_zero_shot\n    self._ensure_model_loaded()\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/engines/cosyvoice/cosyvoice.py\", line 179, in _ensure_model_loaded\n    self._cosyvoice = unified_model_interface.load_model(self._model_config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/utils/models/unified_model_interface.py\", line 156, in load_model\n    wrapper = tts_model_manager.load_model(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/utils/models/comfyui_model_wrapper/model_manager.py\", line 253, in load_model\n    model = model_factory_func(config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ComfyUI/custom_nodes/TTS-Audio-Suite/utils/models/unified_model_interface.py\", line 1114, in cosyvoice_factory\n    raise RuntimeError(f\"Failed to load CosyVoice3 model: {e}\")\nRuntimeError: Failed to load CosyVoice3 model: 'Loader' object has no attribute 'max_depth'\n","createdAt":"2026-01-02T19:22:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/220#issuecomment-3706073366","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7c9TZV","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Enhanced Fix Applied - Please Test v4.16.5+\n\nI've applied a more comprehensive fix for the PyYAML compatibility issue. The patch is now applied across all CosyVoice entry points to ensure the yaml module is patched before any hyperpyyaml imports.\n\n**Files patched (v4.16.5):**\n- `engines/cosyvoice/cosyvoice.py` (main engine wrapper)\n- `engines/adapters/cosyvoice_adapter.py` (adapter)\n- `engines/processors/cosyvoice_processor.py` (processor)\n- `nodes/cosyvoice/cosyvoice_srt_processor.py` (SRT processor)\n- `nodes/engines/cosyvoice_engine_node.py` (engine configuration node)\n- `engines/cosyvoice/impl/cosyvoice/cli/cosyvoice.py` (bundled implementation)\n\n**Please test:**\n1. Update to version 4.16.5 or later\n2. Try loading CosyVoice3 model again\n3. Verify the `'Loader' object has no attribute 'max_depth'` error is resolved\n\nThe fix adds the missing `max_depth` attribute to PyYAML loaders before hyperpyyaml is imported anywhere in the loading chain.","createdAt":"2026-01-03T13:31:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/220#issuecomment-3707057749","viewerDidAuthor":true}],"number":220,"title":"[Bug] RuntimeError: Failed to load CosyVoice3 model: 'Loader' object has no attribute 'max_depth'","updatedAt":"2026-01-03T13:31:06Z"},{"comments":[{"id":"IC_kwDOPZi2kc7cRFDg","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Can you try updating the node? You are running an old version.","createdAt":"2025-12-29T05:28:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695464672","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cRhZC","author":{"login":"avogatro"},"authorAssociation":"NONE","body":"l tried the newest version 4.15.17,  is even worse with 'NoneType' object has no attribute 'infer'\n\n`‚ùå IndexTTS-2 processor error: 'NoneType' object has no attribute 'infer'\nTraceback (most recent call last):\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 514, in process_text\n    result = self.pause_processor.generate_audio_with_pauses(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\text\\pause_processor.py\", line 126, in generate_audio_with_pauses\n    audio = tts_generate_func(content, **generation_kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 510, in tts_generate_with_params\n    return tts_generate_func(text_content, segment_params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 432, in tts_generate_func\n    result = self.adapter.generate(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\adapters\\index_tts_adapter.py\", line 281, in generate\n    audio = self.engine.generate(\n            ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\index_tts.py\", line 333, in generate\n    result = self._tts_engine.infer(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\comfyui_model_wrapper\\base_wrapper.py\", line 398, in __getattr__\n    return getattr(self.model, name)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'infer'\n‚ùå TTS Text generation failed: not enough values to unpack (expected 2, got 1)\nTraceback (most recent call last):\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\nodes\\unified/tts_text_node.py\", line 931, in generate_speech\n    audio_result, chunk_info = engine_instance.process_text(\n    ^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: not enough values to unpack (expected 2, got 1)`\nI want the new tag feature for emotion and speed.\nI am currently trying to install separate conda env py313 and all packages.\n\nEven if this works, have to install a specific version of python, cuda, pytorch to make this work, is not very fun...","createdAt":"2025-12-29T06:27:57Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695580738","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cRi1v","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"It should be working just fine in python 3.12. Are you sure you don't have any other conflicting nodes? Can you post your full initialization comfyui log so I can check it?","createdAt":"2025-12-29T06:32:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695586671","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cRjMC","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"You did... hum, maybe it's the anaconda environment. I have never tested with it...","createdAt":"2025-12-29T06:33:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695588098","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cRjpA","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Did you run the install.py inside your environment?","createdAt":"2025-12-29T06:34:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695589952","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cRlg0","author":{"login":"avogatro"},"authorAssociation":"NONE","body":"install.py let me try","createdAt":"2025-12-29T06:40:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695597620","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cRofp","author":{"login":"avogatro"},"authorAssociation":"NONE","body":"Ok I changed version to 4.15.17.\ninstall.py show [+] Installation completed successfully!\nand I restarted my job. still the same error:\n\n`\n‚ùå IndexTTS-2 processor error: IndexTTS-2 dependencies not available. Error:\n‚ùå External IndexTTS installation detected!\n\n   Found at: E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\indextts\\__init__.py\n\n   This conflicts with our bundled IndexTTS-2 engine and causes import errors.\n\n   üîß SOLUTION: Please uninstall the external version:\n      pip uninstall indextts\n\n   Then restart ComfyUI.\n\n   Our bundled version has all required dependencies and will work perfectly.\n\nTraceback (most recent call last):\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\unified_model_interface.py\", line 696, in index_tts_factory\n    raise e\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\unified_model_interface.py\", line 680, in index_tts_factory\n    raise ImportError(f\"\"\"\nImportError:\n‚ùå External IndexTTS installation detected!\n\n   Found at: E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\indextts\\__init__.py\n\n   This conflicts with our bundled IndexTTS-2 engine and causes import errors.\n\n   üîß SOLUTION: Please uninstall the external version:\n      pip uninstall indextts\n\n   Then restart ComfyUI.\n\n   Our bundled version has all required dependencies and will work perfectly.\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 514, in process_text\n    result = self.pause_processor.generate_audio_with_pauses(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\text\\pause_processor.py\", line 126, in generate_audio_with_pauses\n    audio = tts_generate_func(content, **generation_kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 510, in tts_generate_with_params\n    return tts_generate_func(text_content, segment_params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\processors\\index_tts_processor.py\", line 432, in tts_generate_func\n    result = self.adapter.generate(\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\adapters\\index_tts_adapter.py\", line 281, in generate\n    audio = self.engine.generate(\n            ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\index_tts.py\", line 216, in generate\n    self._ensure_model_loaded()\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\index_tts.py\", line 156, in _ensure_model_loaded\n    self._tts_engine = unified_model_interface.load_model(self._model_config)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\unified_model_interface.py\", line 156, in load_model\n    wrapper = tts_model_manager.load_model(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\comfyui_model_wrapper\\model_manager.py\", line 253, in load_model\n    model = model_factory_func(config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\utils\\models\\unified_model_interface.py\", line 728, in index_tts_factory\n    raise ImportError(f\"IndexTTS-2 dependencies not available. Error: {e}\")\nImportError: IndexTTS-2 dependencies not available. Error:\n‚ùå External IndexTTS installation detected!\n\n   Found at: E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\engines\\index_tts\\indextts\\__init__.py\n\n   This conflicts with our bundled IndexTTS-2 engine and causes import errors.\n\n   üîß SOLUTION: Please uninstall the external version:\n      pip uninstall indextts\n\n   Then restart ComfyUI.\n\n   Our bundled version has all required dependencies and will work perfectly.\n\n‚ùå TTS Text generation failed: not enough values to unpack (expected 2, got 1)\nTraceback (most recent call last):\n  File \"E:\\ComfiUI_conda\\custom_nodes\\tts_audio_suite\\nodes\\unified/tts_text_node.py\", line 931, in generate_speech\n    audio_result, chunk_info = engine_instance.process_text(\n    ^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: not enough values to unpack (expected 2, got 1)\nPrompt executed in 5.45 seconds\n`","createdAt":"2025-12-29T06:51:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3695609833","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cWEA2","author":{"login":"avogatro"},"authorAssociation":"NONE","body":"I use conda to create python 3.13 env, switched now to the nightly build.","createdAt":"2025-12-29T15:06:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3696771126","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7c4Py6","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"We've implemented a **TENTATIVE FIX** for this issue in version **4.16.2**.\n\n## What was the problem?\n\nThe detection logic for external IndexTTS installations was checking if the path contained keywords like `conda`, `pip`, `site-packages`, or `dist-packages`. Since your ComfyUI is installed in `E:\\ComfiUI_conda\\`, the bundled IndexTTS path also contained \"conda\", triggering a false positive.\n\n## What we changed\n\nReplaced keyword-based detection with path-based detection:\n- Now checks if the imported `indextts` module is actually located **inside** the TTS Audio Suite directory structure\n- If it's inside `custom_nodes/tts_audio_suite/engines/index_tts/indextts/` ‚Üí bundled version (allowed)\n- If it's outside (in site-packages, etc.) ‚Üí external installation (blocked)\n\n## Please test this fix\n\n1. Update TTS Audio Suite to version 4.16.2\n2. Restart ComfyUI\n3. Try using the IndexTTS-2 engine\n4. Let us know if the error is resolved\n\nThe fix should work regardless of whether your ComfyUI directory contains \"conda\", \"pip\", or similar keywords in the path.","createdAt":"2026-01-02T16:31:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3705732282","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7gwl1c","author":{"login":"patrickwilliamwalker"},"authorAssociation":"NONE","body":"I've been hit with this as well, though on the Linux environment.\n\nOne of the things I've noticed is that it's telling me to run pip install -r requirements.txt.  I've run it, yet I still get the same missing files error on ComfyUI startup:\n\n> \n>üìã System Dependencies (background check):\n>  ‚ö†Ô∏è Engine dependencies missing:\n>      F5-TTS:\n>       ‚Ä¢ cached-path (import: cached_path)\n>     Higgs Audio 2:\n>        ‚Ä¢ descript-audio-codec (import: dac)\n>        ‚Ä¢ vector-quantize-pytorch (import: vector_quantize_pytorch)\n>      RVC Voice Conversion:\n>        ‚Ä¢ onnxruntime-gpu (import: onnxruntime)\n>        ‚Ä¢ torchcrepe (import: torchcrepe)\n>   üîß Fix: pip install -r requirements.txt\n>   ‚ÑπÔ∏è Engine nodes will fail without dependencies\n\nI went through and manually installed the missing dependencies and cleared out the errors.  A simple workflow been working fine so far.","createdAt":"2026-01-20T03:16:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3770834268","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7hACE2","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"> I've been hit with this as well, though on the Linux environment.\n> \n> One of the things I've noticed is that it's telling me to run pip install -r requirements.txt. I've run it, yet I still get the same missing files error on ComfyUI startup:\n> \n> > üìã System Dependencies (background check):\n> > ‚ö†Ô∏è Engine dependencies missing:\n> > F5-TTS:\n> > ‚Ä¢ cached-path (import: cached_path)\n> > Higgs Audio 2:\n> > ‚Ä¢ descript-audio-codec (import: dac)\n> > ‚Ä¢ vector-quantize-pytorch (import: vector_quantize_pytorch)\n> > RVC Voice Conversion:\n> > ‚Ä¢ onnxruntime-gpu (import: onnxruntime)\n> > ‚Ä¢ torchcrepe (import: torchcrepe)\n> > üîß Fix: pip install -r requirements.txt\n> > ‚ÑπÔ∏è Engine nodes will fail without dependencies\n> \n> I went through and manually installed the missing dependencies and cleared out the errors. A simple workflow been working fine so far.\n\nI should fix that message. requirements.txt is not really where all dependencies get installed but with the install.py script. ","createdAt":"2026-01-20T20:50:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3774882102","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7i1KFC","author":{"login":"0x164C9DFC"},"authorAssociation":"NONE","body":"In 4.17.0, IndexTTS-2 doesn't play nice with a python 3.13 env and Transformers 5.0.0\n\n```\nüîÑ IndexTTS-2: Initializing engine (first run may take 2-3 minutes to load models)...\n   Loading: QwenEmotion ‚Üí GPT ‚Üí Semantic Codec ‚Üí S2Mel ‚Üí CampPlus ‚Üí BigVGAN...\n‚ùå IndexTTS-2 processor error: IndexTTS-2 dependencies not available. Error: cannot import name 'OffloadedCache' from 'transformers.cache_utils' \n```","createdAt":"2026-01-27T14:37:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3805585730","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7i9Ob1","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"@0x164C9DFC \n\nplease don't hijack another persons' bug report, open a new one so we can check your bug there, thanks!!","createdAt":"2026-01-27T21:47:44Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3807700725","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7mme6K","author":{"login":"patrickwilliamwalker"},"authorAssociation":"NONE","body":"I got hit again with after I did a complete ComfyUI reinstall.\n\n\"ValueError: not enough values to unpack (expected 2, got 1)\" \n\nNow, the only error I saw (and it was quite buried and almost missed it):\n\n\"ModuleNotFoundError: No module named 'torchcodec'\", so I did a \"pip install torchcodec\" then restarted ComfyUI.\n\n","createdAt":"2026-02-09T01:44:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/213#issuecomment-3868847754","viewerDidAuthor":false}],"number":213,"title":"[Bug]","updatedAt":"2026-02-09T01:44:41Z"},{"comments":[{"id":"IC_kwDOPZi2kc7b3w0B","author":{"login":"3272118850"},"authorAssociation":"NONE","body":"Even after installing flash attention, the generation still fails, and the runtime error remains the same.\n\n<img width=\"922\" height=\"112\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/786a3a60-4a29-48da-9c4e-1dd345ce8208\" />\n\n<img width=\"1106\" height=\"573\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cc411af0-2d26-43bb-ba7d-2cd4793dcf40\" />","createdAt":"2025-12-24T06:30:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/210#issuecomment-3688828161","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cPsBX","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"## Fixed in v4.15.16\n\nThe crash issue has been resolved. The Russian model download was failing because the files were located in a nested subdirectory that wasn't being accessed correctly.\n\n### What was fixed\n- Corrected the download path from `ru/` to `ru/chatterbox-ru-t3k/`\n- Russian model now downloads successfully (all 5 required files)\n- No more crashes during generation\n\n### Installation\nUpdate to v4.15.16 and the Russian model will download correctly when you use ChatterBox TTS Engine with Russian language.\n\n### Note about audio quality\nThe community Russian model for classic ChatterBox (`fron1runner/chatterbox-ru-t3k`) is an experimental fine-tune with no quality documentation. Some users report the output sounds unusual or English-like.\n\n**Recommendation:** For better Russian TTS quality, use the **ChatterBox Official 23-Lang engine** instead, which has well-tested Russian support built in.\n\nTo switch:\n1. Use the `‚öôÔ∏è ChatterBox Official 23-Lang Engine` node instead of `‚öôÔ∏è ChatterBox TTS Engine`\n2. Set language to Russian\n3. Much better quality output\n\nLet me know if you have any issues with v4.15.16!","createdAt":"2025-12-28T22:29:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/210#issuecomment-3695099991","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cQm3x","author":{"login":"3272118850"},"authorAssociation":"NONE","body":"> ## Fixed in v4.15.16\n> The crash issue has been resolved. The Russian model download was failing because the files were located in a nested subdirectory that wasn't being accessed correctly.\n> \n> ### What was fixed\n> * Corrected the download path from  to `ru/``ru/chatterbox-ru-t3k/`\n> * Russian model now downloads successfully (all 5 required files)\n> * No more crashes during generation\n> \n> ### Installation\n> Update to v4.15.16 and the Russian model will download correctly when you use ChatterBox TTS Engine with Russian language.\n> \n> ### Note about audio quality\n> The community Russian model for classic ChatterBox () is an experimental fine-tune with no quality documentation. Some users report the output sounds unusual or English-like.`fron1runner/chatterbox-ru-t3k`\n> \n> **Recommendation:** For better Russian TTS quality, use the **ChatterBox Official 23-Lang engine** instead, which has well-tested Russian support built in.\n> \n> To switch:\n> \n> 1. Use the  node instead of `‚öôÔ∏è ChatterBox Official 23-Lang Engine``‚öôÔ∏è ChatterBox TTS Engine`\n> 2. Set language to Russian\n> 3. Much better quality output\n> \n> Let me know if you have any issues with v4.15.16!\n\nThank you for the update, author. I can download it now, but another issue has come up. After downloading the model, when I click to run it, it still crashes.\n\ngot prompt\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n[TimbreAudioLoader] Â∑≤Âä†ËΩΩ 58 ‰∏™Èü≥È¢ëÊñá‰ª∂\n‚öôÔ∏è ChatterBox Engine: Configured for local:Russian on auto\n   Settings: exaggeration=0.5, temperature=0.8, cfg_weight=0.5\n   Crash protection: hmm ,, {seg} hmm ,,\nend_vram - start_vram: 8519680 - 8519680 = 0\n#117 [ChatterBoxEngineNode]: 0.00s - vram 0b\nend_vram - start_vram: 8519680 - 8519680 = 0\n#154 [VHS_LoadVideo]: 2.98s - vram 0b\nend_vram - start_vram: 8519680 - 8519680 = 0\n#155 [AudioCrop]: 0.08s - vram 0b\nend_vram - start_vram: 8519680 - 8519680 = 0\n#119 [PrimitiveStringMultiline]: 0.00s - vram 0b\nüîç Auto-detected language: english\nend_vram - start_vram: 8519680 - 8519680 = 0\n#118 [PhonemeTextNormalizer]: 0.00s - vram 0b\nüé§ TTS Text: Using direct audio input (narrator)\n‚ö†Ô∏è TTS Text: Direct audio input has no reference text - F5-TTS engines will fail\nüé§ Generating Chatterbox for 'narrator' (lang: local)\ninput frame rate=25\nüî§ Using available tokenizer: tokenizer.json\nüì¶ ChatterBox models loaded from: D:\\ComfyUI\\zuixin\\ComfyUI\\models\\TTS\\chatterbox\\Russian\nüî§ Final text to ChatterBox TTS model (narrator): '–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç –Ω–∞—à—É –∂–∏–∑–Ω—å. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã, —É–º–Ω—ã–µ –¥–æ–º–∞, –±–µ—Å–ø–∏–ª–æ—Ç–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ ‚Äî –≤—Å—ë —ç—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç–∏. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –Ω–µ —Ç–æ–ª—å–∫–æ —É–ø—Ä–æ—â–∞—é—Ç –∑–∞–¥–∞—á–∏, –Ω–æ –∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ –æ–±—É—á–µ–Ω–∏—è. –í–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö —Ä–∞–∑—É–º–Ω–æ, —Å–æ—Ö—Ä–∞–Ω—è—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ. –ë—É–¥—É—â–µ–µ —É–∂–µ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç, –∏ –æ–Ω–æ –ø–æ–ª–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤.'\n\nD:\\ComfyUI\\zuixin\\ComfyUI>\n\n<img width=\"2295\" height=\"944\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/afa633b3-58b5-4ac1-b0f3-1197270e43bd\" />\nThis Russian text was generated using a large language model.","createdAt":"2025-12-29T03:26:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/210#issuecomment-3695341041","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cREAR","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"crashes in what way? The console log does not show any error","createdAt":"2025-12-29T05:24:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/210#issuecomment-3695460369","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cREYP","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"And I still think you should give up on this Russian model on classic chatterbox. I don't speak Russian, but it sounded really bad. Try the 23-lang chatterbox Engine.","createdAt":"2025-12-29T05:25:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/210#issuecomment-3695461903","viewerDidAuthor":true}],"number":210,"title":"Running \"ChatterBox TTS\" with the language set to Russian directly crashes ComfyUI.","updatedAt":"2025-12-29T05:25:38Z"},{"comments":[{"id":"IC_kwDOPZi2kc7cP1MG","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Thanks for the report. The second pass with step audio editx was broken on VibeVoice Native mode. I'm fixing it.","createdAt":"2025-12-28T23:36:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/208#issuecomment-3695137542","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cP3Pr","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Well I had to disable editing tags for VibeVoice in native mode when it detects multiple narrators. Why? Step EditX only works for one narrator only, and Vobe Voice on native mode generates a whole segment in one go for all the narrators, and Step EditX can't handle that, it would turn all voices into one.","createdAt":"2025-12-28T23:47:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/208#issuecomment-3695145963","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cQL1y","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Fixed in v4.15.17! üéâ\n\nThe issue has been resolved - inline edit tags like `<Sigh>` now work correctly with VibeVoice.\n\n## Important Usage Notes\n\n**‚úÖ Edit Tags Work With:**\n- **Single narrator** in Native Multi-Speaker mode (only one speaker in the text)\n- **Custom Character Switching mode** (always works)\n\n**‚ö†Ô∏è Edit Tags Don't Work With:**\n- **Native Multi-Speaker mode with multiple speakers** - The system will detect this and skip edit tags with a warning message\n\n### Why This Limitation?\n\nIn Native Multi-Speaker mode with multiple speakers, VibeVoice uses all 4 speaker slots and voice references simultaneously. Step Audio EditX (which applies the edit tags) cannot preserve the multi-speaker voice mapping when editing segments.\n\n### Workaround\n\nIf you need both **multiple speakers AND edit tags**, use **Custom Character Switching mode** instead of Native Multi-Speaker mode. Custom mode applies edit tags per-character, so it works perfectly with inline tags.\n\n---\n\n**Changes in v4.15.17:**\n- Fixed inline parameter application (`[seed:2|cfg:7]` now properly bypasses cache)\n- Added automatic detection and warnings for multi-speaker + edit tags scenarios\n- Edit tags are automatically stripped in incompatible scenarios to prevent crashes","createdAt":"2025-12-29T01:30:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/208#issuecomment-3695230322","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7cewq8","author":{"login":"wcmille"},"authorAssociation":"NONE","body":"Thanks. To make voice clones in Custom Character switching, I'd just go into the configs and create the characters?","createdAt":"2025-12-30T11:16:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/208#issuecomment-3699051196","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7cfayx","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"> Thanks. To make voice clones in Custom Character switching, I'd just go into the configs and create the characters?\n\nto use character tags (with vibe voice you need to switch the mode to custom Multi-Speaker instead of native) you need to have the audio + text of each character in your model/voices folder check the guide here: https://github.com/diodiogod/TTS-Audio-Suite/blob/main/docs/CHARACTER_SWITCHING_GUIDE.md","createdAt":"2025-12-30T12:35:11Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/208#issuecomment-3699223729","viewerDidAuthor":true}],"number":208,"title":"[Bug] <sigh> vocalization doesn't work in VibeVoice Native","updatedAt":"2025-12-30T12:35:56Z"},{"comments":[{"id":"IC_kwDOPZi2kc7X3R4S","author":{"login":"xueqing0622"},"authorAssociation":"NONE","body":"windows\nTotal VRAM 32607 MB, total RAM 196370 MB\npytorch version: 2.7.0+cu128\nxformers version: 0.0.30\nSet vram state to: NORMAL_VRAM\nDisabling smart memory management\nDevice: cuda:0 NVIDIA GeForce RTX 5090 : cudaMallocAsync\nUsing async weight offloading with 2 streams\nEnabled pinned memory 88366.0\nUsing xformers attention\nPython version: 3.11.9 | packaged by Anaconda, Inc. | (main, Apr 19 2024, 16:40:41) [MSC v.1916 64 bit (AMD64)]\nComfyUI version: 0.3.76\nComfyUI frontend version: 1.33.10\n[Prompt Server] web root: I:\\00Env\\python311b\\Lib\\site-packages\\comfyui_frontend_package\\static\nTotal VRAM 32607 MB, total RAM 196370 MB\npytorch version: 2.7.0+cu128\nxformers version: 0.0.30\nSet vram state to: NORMAL_VRAM\nDisabling smart memory management\nDevice: cuda:0 NVIDIA GeForce RTX 5090 : cudaMallocAsync\nUsing async weight offloading with 2 streams\nEnabled pinned memory 88366.0","createdAt":"2025-12-07T04:43:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3621592594","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7YPd5J","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Do you have the old chatterbox custom node installed as well?","createdAt":"2025-12-08T16:40:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3627933257","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7Yp5xq","author":{"login":"xueqing0622"},"authorAssociation":"NONE","body":"no chatterbox custom node,  and I remove the comfyui-indextts and comfyui-megatts , also same error","createdAt":"2025-12-10T00:35:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3634863210","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7YyKsl","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"That is a conflict with other custom nodes because of relative imports of utils. I'll try to fix this by using absolute paths in the next versions after I release Step Audio EditX.","createdAt":"2025-12-10T13:11:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3637029669","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7Zewok","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Hi @xueqing0622,\n\nI've identified and fixed the issue. The problem was caused by a Python import path conflict - another custom node in your ComfyUI installation has a `utils.py` file that was shadowing our `utils/` directory.\n\n**Fix implemented in v4.15.2:**\n- Modified `__init__.py` to use direct file path loading instead of package imports\n- Extension is now immune to Python path pollution from other custom nodes\n\n**Please update to v4.15.2 and test:**\n\n```bash\ncd custom_nodes/ComfyUI_TTS_Audio_Suite\ngit pull\n```\n\nThen restart ComfyUI. You should no longer see the \"'utils' is not a package\" errors, and all engines should load successfully.\n\nLet me know if this resolves the issue for you!","createdAt":"2025-12-13T01:37:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3648719396","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7aDZyB","author":{"login":"xueqing0622"},"authorAssociation":"NONE","body":"   üîá Suppressed torchaudio 2.9 migration warnings\n‚ÑπÔ∏è Critical package versions: NumPy 1.26.4, Librosa 0.10.2, Numba 0.61.0, PyTorch 2.7.0+cu128, TorchAudio 2.7.0+cu128, Transformers 4.57.3, Accelerate 1.10.1, SoundFile 0.13.1\n‚ùå ChatterBox Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå F5 TTS Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Higgs Audio Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Step Audio EditX Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå VibeVoice Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå ChatterBox Official 23-Lang Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå IndexTTS-2 Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Character Voices failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Unified TTS Text failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Unified TTS SRT failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Unified Voice Changer failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Audio Analyzer failed: No module named 'utils.audio'; 'utils' is not a package\n‚ùå F5-TTS Edit failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Step Audio EditX Audio Editor failed: No module named 'utils.audio'; 'utils' is not a package\n‚ùå RVC Engine failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå RVC Pitch Options failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Vocal/Noise Removal failed: No module named 'utils.compatibility'; 'utils' is not a package\n‚ùå Merge Audio failed: No module named 'utils.models'; 'utils' is not a package\n‚ùå Voice Fixer Audio Restoration failed: No module named 'utils.downloads'; 'utils' is not a package\n‚ùå Load RVC Character Model failed: No module named 'utils.models'; 'utils' is not a package\n[LG_HotReload] ÈáçÊñ∞Ê≥®ÂÜåÊ®°ÂùóÂ§±Ë¥•: No module named 'utils.system'; 'utils' is not a package\n\n\n\n> Hi [@xueqing0622](https://github.com/xueqing0622),\n> \n> I've identified and fixed the issue. The problem was caused by a Python import path conflict - another custom node in your ComfyUI installation has a `utils.py` file that was shadowing our `utils/` directory.\n> \n> **Fix implemented in v4.15.2:**\n> \n> * Modified `__init__.py` to use direct file path loading instead of package imports\n> * Extension is now immune to Python path pollution from other custom nodes\n> \n> **Please update to v4.15.2 and test:**\n> \n> cd custom_nodes/ComfyUI_TTS_Audio_Suite\n> git pull\n> Then restart ComfyUI. You should no longer see the \"'utils' is not a package\" errors, and all engines should load successfully.\n> \n> Let me know if this resolves the issue for you!\n\nused lastest this node, still same error","createdAt":"2025-12-16T01:35:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3658325121","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7aEsFU","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"can you please post you full init log. Some other custom node is conflicting, and if you don't post the full log I can't check it","createdAt":"2025-12-16T04:08:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3658662228","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7adtUV","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Hi @xueqing0622,\n\nI've implemented a potential fix for this issue in v4.15.8. The error appears to be caused by another custom node (possibly LG_HotReload or similar) that has a `utils.py` file which conflicts with TTS Audio Suite's `utils/` directory.\n\n**What the fix does:**\n- Detects if `sys.modules['utils']` contains a conflicting single-file module\n- Automatically removes it before TTS Suite loads\n- Shows a warning message indicating which custom node is causing the conflict\n\n**To test the fix:**\n```bash\ncd custom_nodes/TTS-Audio-Suite\ngit pull\n```\n\nThen restart ComfyUI. You should see:\n1. A warning message if a conflict is detected (showing which node is the source)\n2. TTS Audio Suite loading successfully with all engines working\n\n**Important note:** This fix has been tested with simulated conflict scenarios but not yet confirmed on your specific system. Please test and let me know if it resolves the issue or if you still see errors.\n\nIf it works, all the red ‚ùå errors should be gone and you'll be able to use the TTS nodes normally.","createdAt":"2025-12-17T12:54:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/191#issuecomment-3665220885","viewerDidAuthor":true}],"number":191,"title":"'utils' is not a package","updatedAt":"2025-12-17T12:54:33Z"},{"comments":[{"id":"IC_kwDOPZi2kc7HdSs1","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Yes, it takes some time to load at initialization. But in my end, it's normally just a few more seconds... It's not necessary a bug. It checks for a lot of things at initialization. I have thought of ways to optimize it, but I prefer to check things at initialization then to have 100bug reports right now.\nBut how much time are you talking here?","createdAt":"2025-09-29T11:07:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3346344757","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7H4inX","author":{"login":"Elgokoo"},"authorAssociation":"NONE","body":"It takes 7 minutes, while, instant without the plugin? \n\nFYI I have sage attention plugin and nunckaku installed with the https://github.com/Tavris1/ComfyUI-Easy-Install/\n","createdAt":"2025-09-30T19:18:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3353487831","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7H6xkP","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"This is not normal or intended. I also have a installation with more than 20 custom nodes including nunchaku and it takes 1 min max. Can you post your full initialization log?","createdAt":"2025-09-30T23:10:26Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3354073359","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7Jpvm7","author":{"login":"Elgokoo"},"authorAssociation":"NONE","body":"The CMD isn't helpful , is there a way to have more log because it happened \n\nThis is what I have below :\n\n[START] Security scan\n[DONE] Security scan\n## ComfyUI-Manager: installing dependencies done.\n** ComfyUI startup time: 2025-10-08 22:38:15.788\n** Platform: Windows\n** Python version: 3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]\n** Python executable: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\python_embeded\\python.exe\n** ComfyUI Path: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\n** ComfyUI Base Folder Path: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\n** User directory: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\user\n** ComfyUI-Manager config path: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\user\\default\\ComfyUI-Manager\\config.ini\n** Log path: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\user\\comfyui.log\n\nPrestartup times for custom nodes:\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\rgthree-comfy\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-Easy-Use\n   5.6 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-manager\n\nCheckpoint files will always be loaded safely.\nTotal VRAM 16311 MB, total RAM 65388 MB\npytorch version: 2.8.0+cu128\nSet vram state to: NORMAL_VRAM\nDevice: cuda:0 NVIDIA GeForce RTX 5060 Ti : cudaMallocAsync\nUsing sage attention\nPython version: 3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]\nComfyUI version: 0.3.64\nInitializing frontend: Comfy-Org/ComfyUI_frontend@latest, requesting version details from GitHub...\nDownloading frontend(Comfy-Org_ComfyUI_frontend) version(1.29.0) to (D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\web_custom_versions\\Comfy-Org_ComfyUI_frontend\\1.29.0)\n[Prompt Server] web root: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\web_custom_versions\\Comfy-Org_ComfyUI_frontend\\1.29.0\n[Crystools INFO] Crystools version: 1.27.3\n[Crystools INFO] Platform release: 11\n[Crystools INFO] JETSON: Not detected.\n[Crystools INFO] CPU: AMD Ryzen 7 5800H with Radeon Graphics - Arch: AMD64 - OS: Windows 11\n[Crystools INFO] pynvml (NVIDIA) initialized.\n[Crystools INFO] GPU/s:\n[Crystools INFO] 0) NVIDIA GeForce RTX 3070 Laptop GPU\n[Crystools INFO] 1) NVIDIA GeForce RTX 5060 Ti\n[Crystools INFO] NVIDIA Driver: 581.29\n[ComfyUI-Easy-Use] server: v1.3.4 Loaded\n[ComfyUI-Easy-Use] web root: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-Easy-Use\\web_version/v2 Loaded\nComfyUI-GGUF: Allowing full torch compile\nComfyUI sampler names loaded successfully: 42 samplers\nFirst few samplers: ['euler', 'euler_cfg_pp', 'euler_ancestral', 'euler_ancestral_cfg_pp', 'heun']\nSAMPLER_NAMES type: <class 'list'>\nComfyUI scheduler names loaded successfully: 9 schedulers\nSchedulers: ['simple', 'sgm_uniform', 'karras', 'exponential', 'ddim_uniform', 'beta', 'normal', 'linear_quadratic', 'kl_optimal']\nAdded path mapping: D:/Automatic1111/models/Lora -> D:/Automatic1111/models/lora\nAdded path mapping: D:/Automatic1111/models/loras -> D:/ComfyUI-Easy-Install/ComfyUI-Easy-Install/ComfyUI/models/loras\nFound LoRA roots:\n - D:/Automatic1111/models/lora\n - D:/ComfyUI-Easy-Install/ComfyUI-Easy-Install/ComfyUI/models/loras\nAdded path mapping: D:/Automatic1111/models/Stable-diffusion -> D:/Automatic1111/models/unet\nFound checkpoint roots:\n - D:/Automatic1111/models/unet\nFound embedding roots:\n - D:/Automatic1111/models/embeddings\nUpdated 'comfyui' library with current folder paths\nDetected async ComfyUI execution, installing async metadata hooks\nMetadata collection hooks installed for runtime values\nComfyUI Metadata Collector initialized\nExample images path:\nAdded static route for locales: /locales -> D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-lora-manager\\locales\nRegistered model type 'lora' with service LoraService and routes LoraRoutes\nRegistered model type 'checkpoint' with service CheckpointService and routes CheckpointRoutes\nRegistered model type 'embedding' with service EmbeddingService and routes EmbeddingRoutes\nRegistered default model types: lora, checkpoint, embedding\nSetting up routes for 3 registered model types\nSuccessfully set up routes for lora\nSuccessfully set up routes for checkpoint\nSuccessfully set up routes for embedding\nLoRA Manager: Set up routes for 3 model types: lora, checkpoint, embedding\n### Loading: ComfyUI-Manager (V3.37)\n[ComfyUI-Manager] network_mode: public\n### ComfyUI Version: v0.3.64-1-g3e0eb8d3 | Released on '2025-10-08'\n[MultiGPU Core Patching] Patching mm.soft_empty_cache for Comprehensive Memory Management (VRAM + CPU + Store Pruning)\n[MultiGPU Core Patching] Patching mm.get_torch_device and mm.text_encoder_device\n[MultiGPU DEBUG] Initial current_device: cuda:0\n[MultiGPU DEBUG] Initial current_text_encoder_device: cuda:0\n[MultiGPU] Initiating custom_node Registration. . .\n-----------------------------------------------\ncustom_node                   Found     Nodes\n-----------------------------------------------\nComfyUI-LTXVideo                  Y         1\nComfyUI-Florence2                 Y         2\nComfyUI_bitsandbytes_NF4          N         0\nx-flux-comfyui                    N         0\nComfyUI-MMAudio                   N         0\nComfyUI-GGUF                      Y        18\nPuLID_ComfyUI                     N         0\nComfyUI-HunyuanVideoWrapper       N         0\nComfyUI-WanVideoWrapper           Y         8\n-----------------------------------------------\n[MultiGPU] Registration complete. Final mappings: DeviceSelectorMultiGPU, HunyuanVideoEmbeddingsAdapter, CheckpointLoaderAdvancedMultiGPU, CheckpointLoaderAdvancedDisTorch2MultiGPU, UNetLoaderLP, UNETLoaderMultiGPU, VAELoaderMultiGPU, CLIPLoaderMultiGPU, DualCLIPLoaderMultiGPU, TripleCLIPLoaderMultiGPU, QuadrupleCLIPLoaderMultiGPU, CLIPVisionLoaderMultiGPU, CheckpointLoaderSimpleMultiGPU, ControlNetLoaderMultiGPU, DiffusersLoaderMultiGPU, DiffControlNetLoaderMultiGPU, UNETLoaderDisTorch2MultiGPU, VAELoaderDisTorch2MultiGPU, CLIPLoaderDisTorch2MultiGPU, DualCLIPLoaderDisTorch2MultiGPU, TripleCLIPLoaderDisTorch2MultiGPU, QuadrupleCLIPLoaderDisTorch2MultiGPU, CLIPVisionLoaderDisTorch2MultiGPU, CheckpointLoaderSimpleDisTorch2MultiGPU, ControlNetLoaderDisTorch2MultiGPU, DiffusersLoaderDisTorch2MultiGPU, DiffControlNetLoaderDisTorch2MultiGPU, LTXVLoaderMultiGPU, Florence2ModelLoaderMultiGPU, DownloadAndLoadFlorence2ModelMultiGPU, UnetLoaderGGUFDisTorchMultiGPU, UnetLoaderGGUFAdvancedDisTorchMultiGPU, CLIPLoaderGGUFDisTorchMultiGPU, DualCLIPLoaderGGUFDisTorchMultiGPU, TripleCLIPLoaderGGUFDisTorchMultiGPU, QuadrupleCLIPLoaderGGUFDisTorchMultiGPU, UnetLoaderGGUFDisTorch2MultiGPU, UnetLoaderGGUFAdvancedDisTorch2MultiGPU, CLIPLoaderGGUFDisTorch2MultiGPU, DualCLIPLoaderGGUFDisTorch2MultiGPU, TripleCLIPLoaderGGUFDisTorch2MultiGPU, QuadrupleCLIPLoaderGGUFDisTorch2MultiGPU, UnetLoaderGGUFMultiGPU, UnetLoaderGGUFAdvancedMultiGPU, CLIPLoaderGGUFMultiGPU, DualCLIPLoaderGGUFMultiGPU, TripleCLIPLoaderGGUFMultiGPU, QuadrupleCLIPLoaderGGUFMultiGPU, WanVideoModelLoaderMultiGPU, WanVideoModelLoaderMultiGPU_2, WanVideoVAELoaderMultiGPU, LoadWanVideoT5TextEncoderMultiGPU, LoadWanVideoClipTextEncoderMultiGPU, WanVideoTextEncodeMultiGPU, WanVideoBlockSwapMultiGPU, WanVideoSamplerMultiGPU\n======================================== ComfyUI-nunchaku Initialization ========================================\n[ComfyUI-Manager] default cache updated: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/alter-list.json\nNunchaku version: 1.0.0\nComfyUI-nunchaku version: 1.0.1\n[ComfyUI-Manager] default cache updated: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/model-list.json\n[ComfyUI-Manager] default cache updated: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/github-stats.json\n[ComfyUI-Manager] default cache updated: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/extension-node-map.json\n[ComfyUI-Manager] default cache updated: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/custom-node-list.json\nD:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\python_embeded\\Lib\\site-packages\\timm\\models\\layers\\__init__.py:48: FutureWarning: Importing from timm.models.layers is deprecated, please import via timm.layers\n  warnings.warn(f\"Importing from {__name__} is deprecated, please import via timm.layers\", FutureWarning)\n'nunchaku_versions.json' not found. Node will start in minimal mode.\n=================================================================================================================\n\n[ReActor] - STATUS - Running v0.6.2-a4 in ComfyUI\nTorch version: 2.8.0+cu128\n\n__     ______   ____                      ____              ____ _      _\n\\ \\   / /  _ \\ / ___| __ _ _ __ ___   ___|  _ \\  _____   __/ ___(_)_ __| |\n \\ \\ / /| |_) | |  _ / _` | '_ ` _ \\ / _ \\ | | |/ _ \\ \\ / / |  _| | '__| |\n  \\ V / |  _ <| |_| | (_| | | | | | |  __/ |_| |  __/\\ V /| |_| | | |  | |\n   \\_/  |_| \\_\\\\____|\\__,_|_| |_| |_|\\___|____/ \\___| \\_/  \\____|_|_|  |_|\n\n             üéÆ VRGameDevGirl custom nodes loaded successfully! üéûÔ∏è\n\n------------------------------------------\nComfyroll Studio v1.76 :  175 Nodes Loaded\n------------------------------------------\n** For changes, please see patch notes at https://github.com/Suzie1/ComfyUI_Comfyroll_CustomNodes/blob/main/Patch_Notes.md\n** For help, please see the wiki at https://github.com/Suzie1/ComfyUI_Comfyroll_CustomNodes/wiki\n------------------------------------------\n[D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_controlnet_aux] | INFO -> Using ckpts path: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_controlnet_aux\\ckpts\n[D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_controlnet_aux] | INFO -> Using symlinks: False\n[D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_controlnet_aux] | INFO -> Using ort providers: ['CUDAExecutionProvider', 'DirectMLExecutionProvider', 'OpenVINOExecutionProvider', 'ROCMExecutionProvider', 'CPUExecutionProvider', 'CoreMLExecutionProvider']\nDWPose: Onnxruntime with acceleration providers detected\n\nInitializing ControlAltAI Nodes\nUsing sage attention\n(RES4LYF) Init\n(RES4LYF) Importing beta samplers.\n(RES4LYF) Importing legacy samplers.\n\n[rgthree-comfy] Loaded 48 extraordinary nodes. üéâ\n\n[save_image_extended] AVIF is supported! Woohoo!\n[save_image_extended] JXL is not supported. To add it: pip install jxlpy\n[save_image_extended]                       You will need a valid MSVC env to build the wheel\n[save_image_extended] version: 2.64\nüîß TTS Audio Suite: Python 3.12 - numba JIT enabled\n‚ÑπÔ∏è Critical package versions: NumPy 2.2.6, Librosa 0.11.0, Numba 0.62.1, PyTorch 2.8.0+cu128, TorchAudio 2.8.0+cu128, Transformers 4.57.0, Accelerate 1.10.1, SoundFile 0.13.1\n‚úÖ FFmpeg available - optimal audio processing enabled\n‚úÖ ChatterboxTTS loaded from bundled package\n‚úÖ ChatterboxVC loaded from bundled package\nJAX version 0.7.2 available.\nFETCH ComfyRegistry Data: 5/99\n‚úÖ F5-TTS loaded from system package\nAPEX FusedRMSNorm not available, using native implementation\nSageAttention: Using SM120+ (Blackwell) with Ada kernel - pv_accum_dtype='fp32+fp32'.\nüé≠ Character voices: Found 26 characters, 10 aliases\n======================================================================\nüöÄ TTS Audio Suite v4.11.0\nUniversal multi-engine TTS extension for ComfyUI\n‚úì Using ComfyUI ChatterBox models\nLoading faiss with AVX2 support.\nSuccessfully loaded faiss with AVX2 support.\n‚úÖ TTS Audio Suite v4.11.0 loaded with 25 nodes:\n   ‚Ä¢ ‚öôÔ∏è ChatterBox Official 23-Lang Engine\n   ‚Ä¢ ‚öôÔ∏è ChatterBox TTS Engine\n   ‚Ä¢ ‚öôÔ∏è F5 TTS Engine\n   ‚Ä¢ ‚öôÔ∏è Higgs Audio 2 Engine\n   ‚Ä¢ ‚öôÔ∏è IndexTTS-2 Engine\n   ‚Ä¢ ‚öôÔ∏è RVC Engine\n   ‚Ä¢ ‚öôÔ∏è VibeVoice Engine\n   ‚Ä¢ üåà IndexTTS-2 Emotion Vectors\n   ‚Ä¢ üåà IndexTTS-2 Text Emotion\n   ‚Ä¢ üåä Audio Wave Analyzer\n   ‚Ä¢ üéôÔ∏è Voice Capture\n   ‚Ä¢ üé§ TTS Text\n   ‚Ä¢ üé≠ Character Voices\n   ‚Ä¢ üé≠ Load RVC Character Model\n   ‚Ä¢ üëÑ F5-TTS Speech Editor\n   ‚Ä¢ üìù Phoneme Text Normalizer\n   ‚Ä¢ üì∫ TTS SRT\n   ‚Ä¢ üîÑ Voice Changer\n   ‚Ä¢ üîß Audio Analyzer Options\n   ‚Ä¢ üîß F5-TTS Edit Options\n   ‚Ä¢ üîß RVC Pitch Extraction Options\n   ‚Ä¢ üîß Viseme Mouth Shape Options\n   ‚Ä¢ üó£Ô∏è Silent Speech Analyzer\n   ‚Ä¢ ü§ê Noise or Vocal Removal\n   ‚Ä¢ ü•™ Merge Audio\n======================================================================\n[VibeVoice] SageAttention available for acceleration\n[VibeVoice] Using embedded VibeVoice (MIT licensed)\n[VibeVoice] VibeVoice nodes registered successfully\nWAS Node Suite: OpenCV Python FFMPEG support is enabled\nWAS Node Suite Warning: `ffmpeg_bin_path` is not set in `D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\was-node-suite-comfyui\\was_suite_config.json` config file. Will attempt to use system ffmpeg binaries if available.\nFETCH ComfyRegistry Data: 10/99\nWAS Node Suite: Finished. Loaded 220 nodes successfully.\n\n        \"Art is not what you see, but what you make others see.\" - Edgar Degas\n\n\nImport times for custom nodes:\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\websocket_image_save.py\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUi-Scale-Image-to-Total-Pixels-Advanced\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\canvas_tab\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI_AdvancedRefluxControl\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\Comfyui-QwenEditUtils\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-seamless-tiling\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-omnigen\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\wlsh_nodes\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\janus-pro\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-inpaint-cropandstitch\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-ksampler-tester-loop\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-TiledDiffusion\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-GGUF\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-WanAnimatePreprocess\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-TranscriptionTools\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\teacache\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_essentials\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\save-image-extended-comfyui\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-various\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-Florence2\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_ultimatesdupscale\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-custom-scripts\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\controlaltai-nodes\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-segment-anything-2\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-kjnodes\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-vrgamedevgirl\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\VibeVoice-ComfyUI\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-LTXVideo\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI_Searge_LLM\n   0.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\rgthree-comfy\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI_Comfyroll_CustomNodes\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_controlnet_aux\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-multigpu\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-ToSVG\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI_Sonic\n   0.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-WanVideoWrapper\n   0.2 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\kaytool\n   0.2 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui_layerstyle\n   0.2 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-reactor\n   0.2 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-logicutils\n   0.3 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-videohelpersuite\n   0.4 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-lora-manager\n   0.4 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-kokoro\n   0.5 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-advancedliveportrait\n   0.6 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\RES4LYF\n   0.6 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-Crystools\n   0.8 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-itools\n   0.9 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-ollama\n   0.9 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-manager\n   1.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-nunchaku\n   2.0 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\was-node-suite-comfyui\n   2.9 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\comfyui-inspyrenet-rembg\n   4.1 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\tts_audio_suite\n   8.9 seconds: D:\\ComfyUI-Easy-Install\\ComfyUI-Easy-Install\\ComfyUI\\custom_nodes\\ComfyUI-Easy-Use\n\nContext impl SQLiteImpl.\nWill assume non-transactional DDL.\nNo target revision found.\nStarting server\n\nTo see the GUI go to: http://127.0.0.1:8188\nRecipe cache initialized in 0.18 seconds. Found 0 recipes\nLora cache hydrated from persisted snapshot with 446 models\nCheckpoint cache hydrated from persisted snapshot with 56 models\nEmbedding cache hydrated from persisted snapshot with 20 models\nFETCH ComfyRegistry Data: 15/99\nFETCH ComfyRegistry Data: 20/99\nFETCH ComfyRegistry Data: 25/99\nFETCH ComfyRegistry Data: 30/99\nFETCH ComfyRegistry Data: 35/99\nFETCH ComfyRegistry Data: 40/99\nFETCH ComfyRegistry Data: 45/99\nFETCH ComfyRegistry Data: 50/99\nFETCH ComfyRegistry Data: 55/99\nFETCH ComfyRegistry Data: 60/99\nFETCH ComfyRegistry Data: 65/99\nFETCH ComfyRegistry Data: 70/99\nFETCH ComfyRegistry Data: 75/99\nFETCH ComfyRegistry Data: 80/99\nFETCH ComfyRegistry Data: 85/99\nFETCH ComfyRegistry Data: 90/99\nFETCH ComfyRegistry Data: 95/99\nFETCH ComfyRegistry Data [DONE]\n[ComfyUI-Manager] default cache updated: https://api.comfy.org/nodes\nFETCH DATA from: https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/custom-node-list.json [DONE]\n[ComfyUI-Manager] All startup tasks have been completed.\n[VibeVoice] Found 1 VibeVoice model(s) available\n[VibeVoice] No LoRA adapters found in ComfyUI/models/vibevoice/loras","createdAt":"2025-10-08T20:42:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3383163323","viewerDidAuthor":false},{"id":"IC_kwDOPZi2kc7NAm-v","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"These are not from my node:\n```\n[VibeVoice] SageAttention available for acceleration\n[VibeVoice] Using embedded VibeVoice (MIT licensed)\n[VibeVoice] VibeVoice nodes registered successfully\n```\n\nI recommend to uninstall other VibeVoice nodes because they might conflict, the same way with any other TTS node with the same models. Some of them might install a dependency that will conflict with our pack.\n\nThe best solution here is to simply have a dedicated portable ComfyuI just for our TTS Audio Suite. I know this is not the solution most people want to hear, but it's probably the easier one. I have many nodes installed and my initialization does take like 2-3 min but no t 7min. And the time is not even just from my custom_node, any install with many custom nodes will add to initialization.\n\nOur Suite makes many checks on initialization, check for dependencies, check for voice character files etc. I think I could improve this by doing SOME of these in a more \"lazy\" way, but I don't have time for this now and I don't consider this high priority.","createdAt":"2025-10-23T22:28:19Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3439488943","viewerDidAuthor":true},{"id":"IC_kwDOPZi2kc7NErEF","author":{"login":"diodiogod"},"authorAssociation":"OWNER","body":"Hi! We just released v4.11.19 with startup performance improvements.\n\n**Changes Made:**\n- Optimized all 7 TTS engine nodes to use file-reading-only model discovery instead of importing heavy modules during initialization\n- Moved dependency checking to a non-blocking background thread\n- Added persistent caching for voice character discovery\n\n**Please test v4.11.19 and let us know if the startup time improves for you.**\n\nIf you're still experiencing slowness, could you share:\n1. How long does ComfyUI take to load now?\n2. Does the UI appear faster than before?\n3. Are all model dropdowns still working correctly in the engine nodes?\n\nThis will help us understand if there are other bottlenecks we need to address.","createdAt":"2025-10-24T02:36:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/diodiogod/TTS-Audio-Suite/issues/122#issuecomment-3440554245","viewerDidAuthor":true}],"number":122,"title":"[Bug] Everytime I install this plugin, Comfyui Takes ages to load, but when I remove it","updatedAt":"2025-10-25T13:32:25Z"}]
